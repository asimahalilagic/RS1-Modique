<div class="container-fluid mb-5">
  <div class="row border-top px-xl-5">
    <div class="col-lg-9">
      <div id="header-carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
          <div *ngFor="let slide of carouselSlides; let i = index" 
               class="carousel-item" 
               [class.active]="i === currentSlide"
               [style.height.px]="410">
            <img class="img-fluid w-100" [src]="slide.image" [alt]="slide.title" style="object-fit: cover; height: 100%;">
            <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
              <div class="p-3" style="max-width: 700px;">
                <h4 class="text-light text-uppercase font-weight-medium mb-3">{{ slide.title }}</h4>
                <h3 class="display-4 text-white font-weight-semi-bold mb-4">{{ slide.subtitle }}</h3>
                <a [routerLink]="slide.link" class="btn btn-light py-2 px-3">Kupuj odmah</a>
              </div>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" (click)="prevSlide()" style="cursor: pointer;">
          <div class="btn btn-dark" style="width: 45px; height: 45px;">
            <span class="carousel-control-prev-icon mb-n2"></span>
          </div>
        </a>
        <a class="carousel-control-next" (click)="nextSlide()" style="cursor: pointer;">
          <div class="btn btn-dark" style="width: 45px; height: 45px;">
            <span class="carousel-control-next-icon mb-n2"></span>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid pt-5">
  <div class="row px-xl-5 pb-3">
    <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
      <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
        <h1 class="fa fa-check text-primary m-0 mr-3"></h1>
        <h5 class="font-weight-semi-bold m-0">Kvalitetni proizvodi</h5>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
      <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
        <h1 class="fa fa-shipping-fast text-primary m-0 mr-2"></h1>
        <h5 class="font-weight-semi-bold m-0">Besplatna dostava</h5>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
      <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
        <h1 class="fas fa-exchange-alt text-primary m-0 mr-3"></h1>
        <h5 class="font-weight-semi-bold m-0">14 dana povrata</h5>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-12 pb-1">
      <div class="d-flex align-items-center border mb-4" style="padding: 30px;">
        <h1 class="fa fa-phone-volume text-primary m-0 mr-3"></h1>
        <h5 class="font-weight-semi-bold m-0">24/7 podrška</h5>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid pt-5">
  <div class="row px-xl-5 pb-3">
    <div class="col-lg-4 col-md-6 pb-1" *ngFor="let category of categories">
      <div class="cat-item d-flex flex-column border mb-4" style="padding: 30px;">
        <p class="text-right">{{ category.count }} Proizvoda</p>
        <a [routerLink]="['/shop']" class="cat-img position-relative overflow-hidden mb-3">
          <img class="img-fluid" [src]="category.image" [alt]="category.name">
        </a>
        <h5 class="font-weight-semi-bold m-0">{{ category.name }}</h5>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid offer pt-5">
  <div class="row px-xl-5">
    <div class="col-md-6 pb-4">
      <div class="position-relative bg-secondary text-center text-md-right text-white mb-2 py-5 px-5">
        <img src="assets/img/offer-1.png" alt="Proljetna kolekcija" style="position: absolute; max-width: 50%; max-height: 90%; bottom: 0; left: 0;">
        <div class="position-relative" style="z-index: 1;">
          <h5 class="text-uppercase text-primary mb-3">20% na cijelu kolekciju</h5>
          <h1 class="mb-4 font-weight-semi-bold">Proljetna kolekcija</h1>
          <a [routerLink]="['/shop']" class="btn btn-outline-primary py-md-2 px-md-3">Kupi odmah</a>
        </div>
      </div>
    </div>
    <div class="col-md-6 pb-4">
      <div class="position-relative bg-secondary text-center text-md-left text-white mb-2 py-5 px-5">
        <img src="assets/img/offer-2.png" alt="Zimska kolekcija" style="position: absolute; max-width: 50%; max-height: 90%; bottom: 0; right: 0;">
        <div class="position-relative" style="z-index: 1;">
          <h5 class="text-uppercase text-primary mb-3">30% popusta na cijelu kolekciju</h5>
          <h1 class="mb-4 font-weight-semi-bold">Zimska kolekcija</h1>
          <a [routerLink]="['/shop']" class="btn btn-outline-primary py-md-2 px-md-3">Kupi odmah</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid pt-5">
  <div class="text-center mb-4">
    <h2 class="section-title px-5"><span class="px-2">Popularni proizvodi</span></h2>
  </div>
  <div class="row px-xl-5 pb-3">
    <div class="col-lg-3 col-md-6 col-sm-12 pb-1" *ngFor="let product of popularProducts">
      <app-product-card 
        [product]="product"
        [isFavorite]="isFavorite(product.productId)"
        (addToCart)="onAddToCart($event)"
        (toggleFavorite)="onToggleFavorite($event)">
      </app-product-card>
    </div>
    <div class="col-12 text-center py-4" *ngIf="isLoading">
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Učitavanje...</span>
      </div>
    </div>
    <div class="col-12 text-center py-5" *ngIf="popularProducts.length === 0 && !isLoading">
      <p class="text-muted">Nema proizvoda za prikaz.</p>
    </div>
  </div>
</div>

<div class="container-fluid bg-secondary my-5">
  <div class="row justify-content-md-center py-5 px-xl-5">
    <div class="col-md-6 col-12 py-5">
      <div class="text-center mb-2 pb-2">
        <h2 class="section-title px-5 mb-3"><span class="bg-secondary px-2">Ostani u toku</span></h2>
      </div>
      <form (ngSubmit)="onSubmitNewsletter($event)">
        <div class="input-group">
          <input type="email" class="form-control border-white p-4" placeholder="Ovdje ukucajte E-mail" 
                 [(ngModel)]="newsletterEmail" name="newsletterEmail" required>
          <div class="input-group-append">
            <button type="submit" class="btn btn-primary px-4">Pretplati se</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="container-fluid pt-5">
  <div class="text-center mb-4">
    <h2 class="section-title px-5"><span class="px-2">Najnoviji komadi</span></h2>
  </div>
  <div class="row px-xl-5 pb-3">
    <div class="col-lg-3 col-md-6 col-sm-12 pb-1" *ngFor="let product of latestProducts">
      <app-product-card 
        [product]="product"
        [isFavorite]="isFavorite(product.productId)"
        (addToCart)="onAddToCart($event)"
        (toggleFavorite)="onToggleFavorite($event)">
      </app-product-card>
    </div>
    <div class="col-12 text-center py-5" *ngIf="latestProducts.length === 0 && !isLoading">
      <p class="text-muted">Nema proizvoda za prikaz.</p>
    </div>
  </div>
</div>
